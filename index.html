<!DOCTYPE html>
<html>
<head>
  <style>
    #videoElement {
      width: 400px;
      height: 300px;
    }
  </style>
</head>
<body>
  <video autoplay="true" id="videoElement"></video>

  <script>
    // Acceder a la cámara frontal en un dispositivo móvil
    var constraints = { video: { facingMode: 'user' } };

    // Verificar si el dispositivo es un móvil
    var isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);

    // Obtener el flujo de la cámara según las restricciones
    function getCameraStream(constraints) {
      if (isMobile) {
        constraints.video = { facingMode: { exact: 'user' } };
      }
      return navigator.mediaDevices.getUserMedia(constraints);
    }

    // Mostrar el flujo de la cámara en el elemento de vídeo
    function showCameraStream() {
      getCameraStream(constraints)
        .then(function(stream) {
          var videoElement = document.getElementById('videoElement');
          videoElement.srcObject = stream;
        })
        .catch(function(error) {
          console.error('Error al acceder a la cámara: ', error);

          // Intentar obtener el flujo de la cámara sin restricciones
          constraints = { video: true };
          getCameraStream(constraints)
            .then(function(stream) {
              var videoElement = document.getElementById('videoElement');
              videoElement.srcObject = stream;
            })
            .catch(function(error) {
              console.error('No se pudo acceder a la cámara: ', error);
            });
        });
    }

    showCameraStream();
  </script>
</body>
</html>